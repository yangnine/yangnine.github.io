import{A as g,B as y,C as S,F as A,G as n,H as o,I as C,J as v,K as u,L as f,M as j,N,O as J,P as z,Q as l,R as b,S as p,T as L,V as K,Y as Q,Z as q,aa as Y,b as D,ba as $,e as G,ea as X,ha as W,ia as Z,ka as P,l as V,la as tt,m as _,ma as et,o as T,r as m,s as c,u as U,x as R,y as s,z as k}from"./chunk-FBHQ2XYS.js";var I=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["app-astrology"]],standalone:!1,decls:3,vars:0,consts:[[1,"Invest","Bk-BlackBlue","Flex-C-BS","F-10",2,"height","100dvh","overflow","hidden"],[1,"Container",2,"width","100%","height","calc(100dvh - 32px)"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"div",1),C(2,"router-outlet"),o()())},dependencies:[W],encapsulation:2})};var ot={IP:"http://localhost:8000/api",CSRF:!0};var M=class{constructor(t){this.http=t;this.Options={headers:this.Headers,withCredentials:!0}}Headers=new Y;Options={};Url=t=>ot.IP+"/"+t;head=t=>this.http.head(this.Url(t),this.Options);get=t=>this.http.get(this.Url(t),this.Options);delete=t=>this.http.delete(this.Url(t),this.Options);post=(t,e)=>this.http.post(this.Url(t),e,this.Options);put=(t,e)=>this.http.put(this.Url(t),e,this.Options);patch=(t,e)=>this.http.patch(this.Url(t),e,this.Options);text=t=>this.http.get(this.Url(t),{responseType:"text"});buffer=t=>this.http.get(this.Url(t),{responseType:"arraybuffer"});download=t=>this.http.post(this.Url(t),"",{responseType:"blob"});post_response(t,e){return this.http.post(this.Url(t),e,{headers:this.Headers,observe:"response"})}OnRejected(t){return D(this,null,function*(){return null})}};var B=class i{constructor(t,e){this.HttpClient=t;this.DomSanitizer=e;this.Http=new M(this.HttpClient),this.Http.Url=r=>r}Http;GetCookie(t){return document.cookie}PostCookie(t){document.cookie="storage=TEST"}DeleteCookie(t){document.cookie=""}GetLocal(t){let e=localStorage.getItem(t);return e==null||e==""?null:JSON.parse(e)}PostLocal(t,e){let r=JSON.stringify(e);localStorage.setItem(t,r)}DeleteLocal(t){localStorage.removeItem(t)}GetSession(t){return sessionStorage.getItem(t)}PostSession(t,e){sessionStorage.setItem(t,e)}DeleteSession(t){sessionStorage.removeItem(t)}ReadImage(t){return new Promise((e,r)=>{let a=new FileReader;if(a==null)return r("");a.onerror=r,a.onloadend=()=>{e(a.result)},a.readAsDataURL(t)})}RegisterSvg(t,e){e.forEach(r=>{let a=this.DomSanitizer.bypassSecurityTrustResourceUrl(`assets/${t}/${r}.svg`)})}GetJson(t){return this.Http.get("assets/"+t)}GetAsset(t){return this.Http.buffer("assets/"+t).pipe(G(e=>new Blob([e])))}GetJK(t){return this.Http.text("JK/p/"+t)}GetJKImg(t){return this.Http.buffer("JKImg/"+t)}GetInvest(t){return this.Http.get("Invest/"+t)}GetMarket(t){return this.Http.get("Invest/Market/"+t)}GetOpenApi(t){return this.Http.get("Invest/OpenApi/"+t)}Get(t){return this.Http.get(t)}static \u0275fac=function(e){return new(e||i)(T($),T(X))};static \u0275prov=V({token:i,factory:i.\u0275fac,providedIn:"root"})};var at=["Card"],O=class i{Draw=new U;Card;CardStyle;constructor(){}ngOnInit(){this.CardStyle=this.Card.nativeElement.style,this.CardBottom=0}MouseDown=!1;MouseDownPos=0;CardBottom=0;OnMouseDown(t){let e=t.y?t.y:t.touches[0].pageY;this.MouseDown=!0,this.CardStyle.transition="",this.MouseDownPos=e}OnMouseMove(t){if(!this.MouseDown)return;let e=t.y?t.y:t.touches[0].pageY;this.CardBottom=this.MouseDownPos-e,this.CardBottom=this.CardBottom<0?0:this.CardBottom>150?150:this.CardBottom,this.CardStyle.marginTop=150-this.CardBottom+"px"}OnMouseUp(t){this.MouseDown=!1,this.CardStyle.transition="margin-top .5s ease-in",this.CardStyle.marginTop=this.CardBottom<150?"150px":"-600px",this.CardBottom==150&&setTimeout(()=>this.Draw.emit(),500)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=g({type:i,selectors:[["tool-draw"]],viewQuery:function(e,r){if(e&1&&j(at,7),e&2){let a;N(a=J())&&(r.Card=a.first)}},hostBindings:function(e,r){e&1&&u("mouseup",function(){return r.OnMouseUp()},!1,R)("touchend",function(){return r.OnMouseUp()},!1,R)},outputs:{Draw:"Draw"},decls:7,vars:0,consts:[["Card",""],[1,"Draw","Bk-BlackBlue"],[1,"CardBox"],[1,"circle"],[1,"circleA"],["onselectstart","return false","oncontextmenu","return false","ondragstart","return false",1,"CardM",3,"mousedown","touchstart","mousemove","touchmove"],["src","assets\\tool\\card5.png",2,"width","100%"]],template:function(e,r){if(e&1){let a=v();n(0,"div",1),C(1,"span",2)(2,"span",3)(3,"span",4),n(4,"div",5,0),u("mousedown",function(d){return m(a),c(r.OnMouseDown(d))})("touchstart",function(d){return m(a),c(r.OnMouseDown(d))})("mousemove",function(d){return m(a),c(r.OnMouseMove(d))})("touchmove",function(d){return m(a),c(r.OnMouseMove(d))}),C(6,"img",6),o()()}},styles:[".Draw[_ngcontent-%COMP%]{overflow:hidden;width:100%;height:100dvh;position:relative}.Draw[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{box-sizing:border-box}.Draw[_ngcontent-%COMP%]   .CardM[_ngcontent-%COMP%]{margin:150px 20px 0}.Draw[_ngcontent-%COMP%]   .CardM[_ngcontent-%COMP%] > img[_ngcontent-%COMP%], .Draw[_ngcontent-%COMP%]   .CardM[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 150px);background:bisque}.Draw[_ngcontent-%COMP%]   .CardBox[_ngcontent-%COMP%]{pointer-events:none;position:absolute;width:100%;height:calc(100vh - 130px);margin-top:130px;background-color:transparent;border-top:30px solid transparent;border-left:60px solid Red;border-right:60px solid Red;border-bottom:150px solid Red}.Draw[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{pointer-events:none;position:absolute;margin:80% 30px;width:calc(100% - 60px);height:40%;border-top:50px solid transparent;border-left:50px solid Goldenrod;border-right:50px solid Goldenrod;border-bottom:50px solid Goldenrod;border-radius:50%;box-shadow:0 0 0 25px red;background-clip:text}.Draw[_ngcontent-%COMP%]   .circleA[_ngcontent-%COMP%]{pointer-events:none;position:absolute;margin:41% 60px;width:calc(100% - 120px);height:35%;background:transparent;border-top:30px solid transparent;border-left:60px solid Goldenrod;border-right:60px solid Goldenrod;border-bottom:50px solid transparent}"]})};function lt(i,t){if(i&1){let e=v();n(0,"div",3)(1,"span"),l(2),o(),n(3,"span"),l(4),o(),n(5,"div",4)(6,"div",5)(7,"span"),l(8),o(),n(9,"span"),l(10),o()(),n(11,"div",6)(12,"span"),l(13),o(),n(14,"span"),l(15),o(),n(16,"span"),l(17),o(),n(18,"span"),l(19),o(),n(20,"span"),l(21),o(),n(22,"span"),l(23),o(),n(24,"span"),l(25),o(),n(26,"span"),l(27),o(),n(28,"span"),l(29),o(),n(30,"span"),l(31),o(),n(32,"span"),l(33),o(),n(34,"span"),l(35),o(),n(36,"span"),l(37),o(),n(38,"span"),l(39),o(),n(40,"span"),l(41),o()()(),n(42,"div",7)(43,"button",8),u("click",function(){m(e);let a=f();return c(a.Back())}),l(44,"Back"),o(),n(45,"button",9),u("click",function(){m(e);let a=f();return c(a.Drawed=!1)}),l(46,"\u8FD4\u56DE"),o()()()}if(i&2){let e=f();s(2),L("",e.Data.idx," - ",e.Data.title,""),s(2),b(e.Data.level),s(4),b(e.Data.info?e.Data.info:e.Data.inf2),s(2),b(e.Data.explain),s(3),p("\u5BB6\u5B85: ",e.Data.omen.\u5BB6\u5B85,""),s(2),p("\u81EA\u8EAB: ",e.Data.omen.\u81EA\u8EAB,""),s(2),p("\u6C42\u8CA1: ",e.Data.omen.\u6C42\u8CA1,""),s(2),p("\u4EA4\u6613: ",e.Data.omen.\u4EA4\u6613,""),s(2),p("\u5A5A\u59FB: ",e.Data.omen.\u5A5A\u59FB,""),s(2),p("\u516D\u7532: ",e.Data.omen.\u516D\u7532,""),s(2),p("\u884C\u4EBA: ",e.Data.omen.\u884C\u4EBA,""),s(2),p("\u7530\u8836: ",e.Data.omen.\u7530\u8836,""),s(2),p("\u516D\u755C: ",e.Data.omen.\u516D\u755C,""),s(2),p("\u5C0B\u4EBA: ",e.Data.omen.\u5C0B\u4EBA,""),s(2),p("\u516C\u8A1F: ",e.Data.omen.\u516C\u8A1F,""),s(2),p("\u79FB\u5F99: ",e.Data.omen.\u79FB\u5F99,""),s(2),p("\u5931\u7269: ",e.Data.omen.\u5931\u7269,""),s(2),p("\u75BE\u75C5: ",e.Data.omen.\u75BE\u75C5,""),s(2),p("\u5C71\u58B3: ",e.Data.omen.\u5C71\u58B3,"")}}function pt(i,t){if(i&1){let e=v();n(0,"tool-draw",12),u("Draw",function(a){m(e);let h=f(2);return c(h.Draw(a))}),o()}}function mt(i,t){if(i&1&&(n(0,"div",10),S(1,pt,1,0,"tool-draw",11),o()),i&2){let e=f();s(),A("ngIf",e.Drawed==!1)}}var w=class i{constructor(t,e){this.StorageService=t;this.Router=e}Drawed=!1;Datas=[];Data=new H;ngOnInit(){this.Init()}Init(){return D(this,null,function*(){let t=yield this.StorageService.GetJson("revelation/Goddess100.json").toPromise();t!=null&&(this.Datas=t)})}Draw(t){this.Drawed=!0;let e=tt.Random.Int(this.Datas.length-1,0);this.Data=this.Datas[e]}Back(){this.Router.navigate([""])}static \u0275fac=function(e){return new(e||i)(k(B),k(Z))};static \u0275cmp=g({type:i,selectors:[["astro-revelation"]],standalone:!1,decls:4,vars:2,consts:[["DrawCard",""],[1,"Flex","Revelation","Bk-BlackBlue",2,"width","100%","height","100dvh","color","bisque"],["class","Flex-C-AC F-12","style","max-width: 430px; width: 100%; height: 100%; padding: 16px;",4,"ngIf","ngIfElse"],[1,"Flex-C-AC","F-12",2,"max-width","430px","width","100%","height","100%","padding","16px"],[1,"Flex","F-10",2,"width","100%","height","70%","flex-direction","row-reverse"],[1,"Flex","Vertical","F-16",2,"width","50%","height","100%"],[1,"Flex-C-AB","F-10",2,"width","50%","height","100%"],[1,"Flex-R-AC",2,"width","100%","margin-bottom","44px"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",1,"Btn",3,"click"],[2,"max-width","430px","width","100%"],[3,"Draw",4,"ngIf"],[3,"Draw"]],template:function(e,r){if(e&1&&(n(0,"div",1),S(1,lt,47,20,"div",2),o(),S(2,mt,2,1,"ng-template",null,0,K)),e&2){let a=z(3);s(),A("ngIf",r.Drawed)("ngIfElse",a)}},dependencies:[Q,O],styles:[".Revelation[_ngcontent-%COMP%]   .Btn[_ngcontent-%COMP%]:hover{font-weight:700;color:#000;background:red}.Revelation[_ngcontent-%COMP%]   .Vertical[_ngcontent-%COMP%]{writing-mode:vertical-rl;text-orientation:upright}"]})},H=class{constructor(t="",e="",r="",a="",h="",d="",dt={},ut=[]){this.idx=t;this.level=e;this.title=r;this.info=a;this.inf2=h;this.explain=d;this.omen=dt;this.story=ut}};var ct=[{path:"",component:I,children:[{path:"",component:w}]},{path:"revelation",component:w}],E=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=y({type:i});static \u0275inj=_({imports:[P.forChild(ct),P]})};var F=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=y({type:i});static \u0275inj=_({imports:[q,E,et]})};export{F as default};
